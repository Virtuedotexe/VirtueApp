<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Virtue.exe — Ascension v2.1 (Divine System)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Exo+2:wght@400;600&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="styles.css">
  <meta name="theme-color" content="#0a0e1a">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('service-worker.js'));
    }
  </script>
</head>
<body>
  <div id="bootOverlay">
    <div id="sigil">VIRTUE</div>
    <div id="subsigil">ASCENSION SYSTEM • DIVINE MODE</div>
  </div>

  <header>
    <h1>Virtue.exe — Ascension v2.1</h1>
    <div id="season">Divine System • Monk Mode</div>
  </header>

  <nav id="tabs">
    <button data-tab="dashboard" class="active">Dashboard</button>
    <button data-tab="log">Log Day</button>
    <button data-tab="quests">Quests</button>
    <button data-tab="events">Buffs & Events</button>
    <button data-tab="skills">Virtue Tree</button>
    <button data-tab="settings">Settings</button>
  </nav>

  <main>
    <section id="dashboard" class="tab active">
      <div class="rankline"><span id="rankTitle">INITIATE</span><span id="rankHint"></span></div>
      <div class="auraWrap">
        <div class="auraGauge" id="auraGauge"><div class="auraCore"></div></div>
        <div class="auraText"><div>Aura Density</div><strong id="auraVal">0%</strong></div>
      </div>

      <div class="card">
        <div class="stat"><span>Total XP</span><strong id="totalXP">0</strong></div>
        <div class="stat"><span>Level</span><strong id="level">1</strong></div>
        <div class="stat"><span>XP to Next</span><strong id="xpToNext">—</strong></div>
      </div>
      <div class="progress"><div id="xpBar" class="bar"></div></div>

      <div class="grid">
        <div class="mini"><span>Week Hours</span><strong id="weekHours">0</strong></div>
        <div class="mini"><span>Best Day XP</span><strong id="bestDayXP">0</strong></div>
        <div class="mini"><span>Streak</span><strong id="streak">0</strong></div>
      </div>

      <div id="buffsPanel" class="card">
        <h3>Active Buffs</h3>
        <div id="buffList" class="tagrow"></div>
      </div>

      <div id="sysLog" class="card console"></div>
      <div class="card tip" id="paceHint">Breathe. Build. Become.</div>
    </section>

    <section id="log" class="tab">
      <div class="card">
        <label>Date <input type="date" id="dateInput"></label>
        <div class="grid2">
          <label>Deep Work (hrs)<input type="number" min="0" step="0.25" id="deepWork"></label>
          <label>Content (hrs)<input type="number" min="0" step="0.25" id="content"></label>
          <label>Streaming (hrs)<input type="number" min="0" step="0.25" id="stream"></label>
          <label>Gym (hrs)<input type="number" min="0" step="0.25" id="gym"></label>
          <label>Read/Meditate (hrs)<input type="number" min="0" step="0.25" id="read"></label>
          <label>College (hrs)<input type="number" min="0" step="0.25" id="college"></label>
        </div>
        <div class="grid2">
          <label>Daily Quests Done<input type="number" min="0" step="1" id="questsCount"></label>
          <label>Temptations Resisted<input type="number" min="0" step="1" id="resisted"></label>
          <label>Sin Slips (Lust/Envy/Wrath)<input type="number" min="0" step="1" id="slips"></label>
          <label>Flow State?
            <select id="buff"><option value="">No</option><option value="Y">Yes</option></select>
          </label>
          <label>Distraction?
            <select id="debuff"><option value="">No</option><option value="Y">Yes</option></select>
          </label>
        </div>
        <label>Notes<textarea id="notes" rows="3" placeholder="What did you build today?"></textarea></label>
        <button id="saveDay">Save Day</button>
      </div>
      <div id="recentDays"></div>
    </section>

    <section id="quests" class="tab">
      <div class="card">
        <h3>Daily Quests</h3>
        <div id="dailyQuests"></div>
        <button id="rerollDaily" class="ghost">Reroll Daily</button>
      </div>
      <div class="card">
        <h3>Weekly Quests</h3>
        <div id="weeklyQuests"></div>
        <button id="rerollWeekly" class="ghost">Reroll Weekly</button>
      </div>
    </section>

    <section id="events" class="tab">
      <div class="card">
        <h3>System Events</h3>
        <div id="eventList"></div>
        <button id="triggerEvent" class="ghost">Trigger Random Event</button>
      </div>
    </section>

    <section id="skills" class="tab">
      <div class="card">
        <h3>Virtue Tree</h3>
        <div id="virtueTree"></div>
      </div>
      <div class="card tip" id="balanceTip">Balance Score: 0</div>
    </section>

    <section id="settings" class="tab">
      <div class="card">
        <h3>Multipliers</h3>
        <div class="grid2" id="multis"></div>
        <h3>Season Target</h3>
        <label>Target Level <input type="number" id="targetLevel" min="1" max="100"></label>
        <button id="saveSettings">Save Settings</button>
        <button id="exportData" class="ghost">Export Backup</button>
        <input id="importFile" type="file" accept="application/json" style="display:none;">
        <button id="importData" class="ghost">Import Backup</button>
        <button id="resetAll" class="danger">Reset All Data</button>
      </div>
    </section>
  </main>

  <footer>Virtue.exe © 2025</footer>
  <script src="app.js"></script>
</body>
</html>
